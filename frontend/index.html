<!-- frontend/index.html -->
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Locker System using Facial Recognition</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

    <div class="header">
        <h1>Smart Locker System using Facial Recognition</h1>
        <p class="subtitle">Mở tủ thông minh bằng khuôn mặt – Powered by FastAPI & YOLO</p>
    </div>

        <div class="main-container">
        <!-- Left column: Statistics -->
        <div class="stats-container">
            <h3>Thống kê</h3>
            <div class="stats-content-wrapper">
                <div class="stat-item">
                    <span class="stat-label">Số người:</span>
                    <span class="stat-value" id="personCount">0</span>
                </div>

                <!-- <div id="detectedPeopleList" class="detected-people-list">
                    <h4>Người phát hiện:</h4>
                    <div class="people-list-content"></div>
                </div> -->
            </div>
        </div>

        <!-- Center column: Video display -->
        <div class="video-section">
            <div class="video-container-wrapper">
                <div id="videoContainer">
                    <video id="webcam" autoplay muted playsinline></video>
                    <canvas id="overlay"></canvas>
                </div>
            </div>
        </div>

        <!-- Right column: Controls -->
        <div class="controls-section">
            <!-- Cài đặt camera -->
            <div class="control-group">
                <h3>Cài đặt camera</h3>

                <!-- Dropdown camera (desktop) -->
                <div id="cameraSelectContainer">
                    <select id="cameraSelect" class="camera-select">
                        <option value="">Đang tải camera...</option>
                    </select>
                </div>

                <!-- Toggle camera sau (mobile) -->
                <div id="toggleCameraContainer">
                    <div class="control-row">
                        <span class="control-label">Camera sau:</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggleRearCamera">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <button id="startButton" class="button">Bắt đầu Camera</button>
                <button id="stopButton" class="button secondary" style="margin-top: 10px;">Dừng Camera</button>
            </div>

            <!-- Smart Locker controls -->
            <div class="control-group">
                <h3>Smart Locker</h3>

                <div class="control-row">
                    <label class="control-label" for="userIdInput">Mã người dùng:</label>
                    <input id="userIdInput" type="text" class="camera-select" placeholder="VD: 1">
                </div>

                <div class="control-row">
                    <label class="control-label" for="userNameInput">Tên người dùng:</label>
                    <input id="userNameInput" type="text" class="camera-select" placeholder="VD: Hoang Trung Kien">
                </div>

                <button id="enrollButton" class="button" style="margin-top: 10px;">
                    Đăng ký khuôn mặt
                </button>

                <button id="unlockButton" class="button secondary" style="margin-top: 10px;">
                    Mở tủ bằng khuôn mặt
                </button>

                <div class="locker-status" style="margin-top: 15px;">
                    <p><strong>Trạng thái tủ:</strong> <span id="lockerStatusText">Chưa có thao tác</span></p>
                    <p><strong>Người được nhận diện:</strong> <span id="recognizedUserText">-</span></p>
                    <p><strong>Độ tin cậy:</strong> <span id="recognizedConfidenceText">-</span></p>
                </div>
            </div>
        </div>
    </div>


    <div class="footer">
        <p>© 2025 Smart Locker System using Facial Recognition | Powered by FastAPI & YOLO</p>
    </div>

    <!-- Load JavaScript modules -->
    <script type="module" src="/static/js/main.js"></script>
</body>
</html>
